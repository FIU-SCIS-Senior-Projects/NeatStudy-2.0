var source;

module.exports = function (ast, traverse, code) {
  source = code;
  ast.range = [ast.start, ast.end];
  traverse(ast, astTransformVisitor);
};

function changeToLiteral(node) {
  node.type = "Literal";
  if (!node.raw) {
    if (node.extra && node.extra.raw) {
      node.raw = node.extra.raw;
    } else {
      node.raw = source.slice(node.start, node.end);
    }
  }
}

var astTransformVisitor = {
  noScope: true,
  enter: function (path) {
    var node = path.node;

    node.range = [node.sta
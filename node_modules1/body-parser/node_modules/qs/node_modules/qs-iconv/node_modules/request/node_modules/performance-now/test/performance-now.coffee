assert = require "assert"

delay = (ms, fn) -> setTimeout fn, ms
now = undefined
describe "now", ->
  it "initially gives a near zero (< 20 ms) time ", ->
    now = require "../"
    assert now() < 20
    
  it "gives a positive time", ->
    assert now() > 0

  it "two subsequent calls return an increasing number", ->
    a = now()
    b = now()      
    assert now() < now()
    
  it "has less than 10 microseconds overhead", ->
    Math.abs(now() - now()) < 0.010
  
  it "can do 1,000,000 calls really qu